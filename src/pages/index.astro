---
import BaseLayout from "../layouts/BaseLayout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import RevealAnimation from "../components/RevealAnimation.astro";
import RepresentativeModal from "../components/RepresentativeModal.astro";
import WorkModal from "../components/WorkModal.astro";

// Workデータを一箇所にまとめて管理
const worksData = [
	{
		title: "Work 1",
		area: "661㎡ / 200T",
		completion: "2024",
		description: "生産性を高める コミュニケーション 共創・協働の場",
		image: "/work/work - 1.jpg",
		category: "PROJECT",
		solution: "SOLUTION",
		service: "Web Development"
	},
	{
		title: "Work 2",
		area: "1090㎡ / 330T",
		completion: "2024",
		description: "ブランディング・採用 共創・協働の場",
		image: "/work/work - 2.jpg",
		category: "PROJECT",
		solution: "SOLUTION",
		service: "Mobile App"
	},
	{
		title: "Work 3",
		area: "429㎡ / 130T",
		completion: "2024",
		description: "ブランディング・採用 コミュニケーション 共創・協働の場",
		image: "/work/work - 3.jpg",
		category: "PROJECT",
		solution: "SOLUTION",
		service: "Cloud Consulting"
	},
	{
		title: "Work 4",
		area: "500㎡ / 150T",
		completion: "2023",
		description: "コミュニケーション 共創・協働の場",
		image: "/work/work - 4.jpg",
		category: "PROJECT",
		solution: "SOLUTION",
		service: "UI/UX Design"
	},
	{
		title: "Work 5",
		area: "800㎡ / 240T",
		completion: "2023",
		description: "生産性を高める 共創・協働の場",
		image: "/work/work - 5.jpg",
		category: "PROJECT",
		solution: "SOLUTION",
		service: "AI Solutions"
	},
	{
		title: "Work 6",
		area: "350㎡ / 105T",
		completion: "2022",
		description: "ブランディング・採用 コミュニケーション",
		image: "/work/work - 6.jpg",
		category: "PROJECT",
		solution: "SOLUTION",
		service: "Data Analytics"
	}
];

// 各用途に合わせてデータを抽出
const works = worksData.map(({ title, area, completion, description, image }) => ({
	title,
	area,
	completion,
	description,
	image
}));

---

<BaseLayout title="Sharero | コーポレートサイト" description="モダンなコーポレートサイト">
	<Header />
	<main>
		<section class="hero-video">
			<video class="hero-video-element" autoplay muted loop playsinline>
				<source src="/FV.mp4" type="video/mp4" />
			</video>
			<div class="video-overlay"></div>
			<div class="hero-content">
				<div class="hero-left">
					<div class="hero-text">
						<h1 class="hero-headline">Innovation Through Collaboration</h1>
						<p class="hero-description">Creating meaningful digital experiences that connect people and businesses</p>
						<a href="#achievements" class="hero-button">View All Work</a>
					</div>
				</div>
			</div>
			<div class="hero-footer">
				<div class="copyright-year">©2025</div>
				<div class="scroll-indicator">SCROLL</div>
			</div>
		</section>

		<section id="about" class="section about-section">
			<div class="about-background"></div>
			<div class="container">
				<div class="company-label">COMPANY</div>
				<div class="company-info-table">
					<div class="info-row">
						<div class="info-label">会社名</div>
						<div class="info-value">株式会社ShareRo</div>
					</div>
					<div class="info-row">
						<div class="info-label">設立</div>
						<div class="info-value">2021年1月</div>
					</div>
					<div class="info-row">
						<div class="info-label">資本金</div>
						<div class="info-value">10,005,007円</div>
					</div>
					<div class="info-row">
						<div class="info-label">代表者</div>
						<div class="info-value">
							<a href="#" class="representative-link">
								代表取締役 | 三原 尚人
								<svg class="arrow-icon" width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5">
									<path d="M6 4l4 4-4 4"/>
								</svg>
							</a>
						</div>
					</div>
					<div class="info-row">
						<div class="info-label">所在地</div>
						<div class="info-value">
							〒102-0093<br>東京都千代田区平河町2丁目5番3号
						</div>
					</div>
					<div class="info-row">
						<div class="info-label">事業内容</div>
						<div class="info-value">
							<ul class="business-items">
								<li>インターネット等のネットワークを利用した商品の売買システム及びアプリケーションサービスの設計、開発、運用、販売及び保守</li>
								<li>情報処理、データ入力、広告入稿サービス業務及びその請負業務</li>
								<li>情報システムの企画、設計、開発、保守、運用及び販売</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</section>

		<section id="achievements" class="section works-section">
			<div class="works-background"></div>
			<div class="container">
				<div class="works-header">
					<div class="works-label">WORKS</div>
				</div>
				<div class="works-grid">
					{works.map((work, index) => (
						<article class="work-card" data-work-index={index}>
							<div class="work-image-container">
								<img src={work.image} alt={work.title} class="work-image" />
							</div>
							<div class="work-info">
								<h3 class="work-title">{work.title}</h3>
								<div class="work-meta">
									<span class="work-area">Area {work.area}</span>
									<span class="work-separator">/</span>
									<span class="work-completion">Completion {work.completion}</span>
								</div>
								<p class="work-description">{work.description}</p>
							</div>
						</article>
					))}
				</div>
			</div>
		</section>
	</main>
	<Footer />
	<RepresentativeModal />
	<WorkModal />
	<RevealAnimation />

	<script define:vars={{ worksData }}>
		// Workカードのクリックイベントを設定
		document.addEventListener('DOMContentLoaded', () => {
			const workCards = document.querySelectorAll('.work-card');

			workCards.forEach((card, index) => {
				card.addEventListener('click', () => {
					if (window.openWorkModal && worksData[index]) {
						window.openWorkModal(worksData[index]);
					}
				});
				card.style.cursor = 'pointer';
			});
		});
	</script>
</BaseLayout>
