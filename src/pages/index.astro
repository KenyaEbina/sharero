---
import BaseLayout from "../layouts/BaseLayout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";

const works = [
	{
		title: "Work 1",
		area: "661㎡ / 200T",
		completion: "2024",
		description: "生産性を高める コミュニケーション 共創・協働の場",
		image: "/work/work - 1.jpg"
	},
	{
		title: "Work 2",
		area: "1090㎡ / 330T",
		completion: "2024",
		description: "ブランディング・採用 共創・協働の場",
		image: "/work/work - 2.jpg"
	},
	{
		title: "Work 3",
		area: "429㎡ / 130T",
		completion: "2024",
		description: "ブランディング・採用 コミュニケーション 共創・協働の場",
		image: "/work/work - 3.jpg"
	},
	{
		title: "Work 4",
		area: "500㎡ / 150T",
		completion: "2023",
		description: "コミュニケーション 共創・協働の場",
		image: "/work/work - 4.jpg"
	},
	{
		title: "Work 5",
		area: "800㎡ / 240T",
		completion: "2023",
		description: "生産性を高める 共創・協働の場",
		image: "/work/work - 5.jpg"
	},
	{
		title: "Work 6",
		area: "350㎡ / 105T",
		completion: "2022",
		description: "ブランディング・採用 コミュニケーション",
		image: "/work/work - 6.jpg"
	}
];

const sliderImages = [
	"/work/work - 1.jpg",
	"/work/work - 2.jpg",
	"/work/work - 3.jpg",
	"/work/work - 4.jpg",
	"/work/work - 5.jpg",
	"/work/work - 6.jpg"
];

const sliderProjects = [
	{
		category: "PROJECT",
		title: "Work 1",
		solution: "SOLUTION",
		service: "Web Development"
	},
	{
		category: "PROJECT",
		title: "Work 2",
		solution: "SOLUTION",
		service: "Mobile App"
	},
	{
		category: "PROJECT",
		title: "Work 3",
		solution: "SOLUTION",
		service: "Cloud Consulting"
	},
	{
		category: "PROJECT",
		title: "Work 4",
		solution: "SOLUTION",
		service: "UI/UX Design"
	},
	{
		category: "PROJECT",
		title: "Work 5",
		solution: "SOLUTION",
		service: "AI Solutions"
	},
	{
		category: "PROJECT",
		title: "Work 6",
		solution: "SOLUTION",
		service: "Data Analytics"
	}
];
---

<BaseLayout title="Sharero | コーポレートサイト" description="モダンなコーポレートサイト">
	<Header />
	<main>
		<section class="hero-slider">
			<div class="slider-wrapper">
				{sliderImages.map((image, index) => (
					<div class={`slide ${index === 0 ? 'active' : ''}`} data-slide-index={index}>
						<div class="slide-background" style={`background-image: url('${image}');`}></div>
						<div class="slide-overlay"></div>
					</div>
				))}
			</div>
			<div class="hero-content">
				<div class="hero-left">
					<div class="project-info">
						<div class="project-label">PROJECT</div>
						<div class="project-title" id="project-title">{sliderProjects[0].title}</div>
						<div class="solution-label">SOLUTION</div>
						<div class="solution-title" id="solution-title">{sliderProjects[0].service}</div>
					</div>
				</div>
			</div>
			<div class="hero-footer">
				<div class="copyright-year">©2025</div>
				<div class="scroll-indicator">SCROLL</div>
			</div>
		</section>

		<section id="about" class="section about-section">
			<div class="about-background"></div>
			<div class="container">
				<div class="company-label">COMPANY</div>
				<div class="company-info-table">
					<div class="info-row">
						<div class="info-label">会社名</div>
						<div class="info-value">株式会社ShareRo</div>
					</div>
					<div class="info-row">
						<div class="info-label">設立</div>
						<div class="info-value">2021年1月</div>
					</div>
					<div class="info-row">
						<div class="info-label">資本金</div>
						<div class="info-value">10,005,007円</div>
					</div>
					<div class="info-row">
						<div class="info-label">代表者</div>
						<div class="info-value">
							代表取締役 | 三原 尚人
						</div>
					</div>
					<div class="info-row">
						<div class="info-label">所在地</div>
						<div class="info-value">
							〒102-0093<br>東京都千代田区平河町2丁目5番3号
						</div>
					</div>
					<div class="info-row">
						<div class="info-label">事業内容</div>
						<div class="info-value">
							<ul class="business-items">
								<li>インターネット等のネットワークを利用した商品の売買システム及びアプリケーションサービスの設計、開発、運用、販売及び保守</li>
								<li>情報処理、データ入力、広告入稿サービス業務及びその請負業務</li>
								<li>情報システムの企画、設計、開発、保守、運用及び販売</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</section>

		<section id="achievements" class="section works-section">
			<div class="works-background"></div>
			<div class="container">
				<div class="works-header">
					<div class="works-label">WORKS</div>
				</div>
				<div class="works-grid">
					{works.map((work) => (
						<article class="work-card">
							<div class="work-image-container">
								<img src={work.image} alt={work.title} class="work-image" />
							</div>
							<div class="work-info">
								<h3 class="work-title">{work.title}</h3>
								<div class="work-meta">
									<span class="work-area">Area {work.area}</span>
									<span class="work-separator">/</span>
									<span class="work-completion">Completion {work.completion}</span>
								</div>
								<p class="work-description">{work.description}</p>
							</div>
						</article>
					))}
				</div>
			</div>
		</section>
	</main>
	<Footer />
</BaseLayout>

<script define:vars={{ sliderProjects }}>
	let currentSlide = 0;
	const totalSlides = 6;

	const slides = document.querySelectorAll('.slide');
	const projectTitle = document.getElementById('project-title');
	const solutionTitle = document.getElementById('solution-title');

	function updateSlide(index) {
		// スライドの更新
		slides.forEach((slide, i) => {
			slide.classList.toggle('active', i === index);
		});

		// テキストの更新
		if (projectTitle && solutionTitle && sliderProjects[index]) {
			projectTitle.textContent = sliderProjects[index].title;
			solutionTitle.textContent = sliderProjects[index].service;
		}
	}

	function nextSlide() {
		currentSlide = (currentSlide + 1) % totalSlides;
		updateSlide(currentSlide);
	}

	// 自動スライド
	let autoSlideInterval;
	function startAutoSlide() {
		autoSlideInterval = setInterval(nextSlide, 5000); // 5秒ごと
	}

	function stopAutoSlide() {
		if (autoSlideInterval) {
			clearInterval(autoSlideInterval);
		}
	}

	// マウスがスライダー上にある時は自動スライドを停止
	const heroSlider = document.querySelector('.hero-slider');
	if (heroSlider) {
		heroSlider.addEventListener('mouseenter', stopAutoSlide);
		heroSlider.addEventListener('mouseleave', startAutoSlide);
	}

	// 初期化
	startAutoSlide();
</script>
