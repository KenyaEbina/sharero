---
---

<script>
	import gsap from 'gsap';
	import { SplitText } from 'gsap/SplitText';

	document.addEventListener('DOMContentLoaded', () => {
		gsap.registerPlugin(SplitText);

		const splitText = (selector, type, className) => {
			return SplitText.create(selector, {
				type: type,
				[`${type}Class`]: className,
				mask: type,
			});
		};

		const headline = document.querySelector('.hero-headline');
		const description = document.querySelector('.hero-description');
		const copyrightYear = document.querySelector('.copyright-year');
		const scrollIndicator = document.querySelector('.scroll-indicator');
		const heroButton = document.querySelector('.hero-button');

		// テキストアニメーション
		if (headline) {
			const headlineSplit = splitText(headline, 'words', 'word');
			gsap.set(headlineSplit.words, { y: '100%' });
			gsap.to(headlineSplit.words, {
				y: '0%',
				duration: 1,
				ease: 'power4.out',
				stagger: 0.1,
			});
		}

		if (description) {
			gsap.set(description, { opacity: 0, y: 20 });
			gsap.to(description, {
				opacity: 1,
				y: 0,
				duration: 1,
				ease: 'power3.out',
				delay: 0.3,
			});
		}

		if (heroButton) {
			gsap.set(heroButton, { opacity: 0, y: 20 });
			gsap.to(heroButton, {
				opacity: 1,
				y: 0,
				duration: 1,
				ease: 'power3.out',
				delay: 0.6,
			});
		}

		if (copyrightYear) {
			const copyrightSplit = splitText(copyrightYear, 'chars', 'char');
			gsap.set(copyrightSplit.chars, { y: '100%' });
			gsap.to(copyrightSplit.chars, {
				y: '0%',
				duration: 1,
				ease: 'power4.out',
				stagger: 0.075,
				delay: 0.5,
			});
		}

		if (scrollIndicator) {
			const scrollSplit = splitText(scrollIndicator, 'words', 'word');
			gsap.set(scrollSplit.words, { y: '100%' });
			gsap.to(scrollSplit.words, {
				y: '0%',
				duration: 1,
				ease: 'power4.out',
				stagger: 0.075,
				delay: 0.5,
			});
		}
	});
</script>
